<!DOCTYPE html>
<html lang="en">
<head>
    <title>Changelog - Patchwork</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="/style.css">

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-20483190-1', 'auto');
      ga('send', 'pageview');

    </script>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="manifest" href="/icons/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/styles/tomorrow.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/highlight.min.js"></script>

    <script>hljs.initHighlightingOnLoad();</script>
</head>


<body>
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <ul class="nav navbar-nav">
                  <li><a href="/">Home</a></li>
                  <li><a href="/examples/">Examples</a></li>
                  <li><a href="/api/">API</a></li>
                  <li><a href="/features/">Features</a></li>
                  <li><a href="/limitations/">Limitations</a></li>
                  <li><a href="/changelog/">Changelog</a></li>
                  <li><a href="https://github.com/antecedent/patchwork">GitHub</a></li>
              </ul>
            </div>
        </div>
    </nav>

    <main>
        <div class="container center">
            <h1>Changelog</h1>

            <div class="divider" style="margin-top: 40px;"></div>

            <h2 class="major version">2.0.0</h2>

            <ul class="changes">
                <li>Added support for the redefinition of PHP's internal functions.</li>
            </ul>

            <h2 class="minor version">1.4.3</h2>

            <ul class="changes">
                <li>Fixed: <a href="https://github.com/antecedent/issues/40">Warning: strpos(): Offset not contained in string</a>.</li>
                <li>Fixed: <a href="https://github.com/antecedent/issues/39">Fatal error: Call to undefined function patchwork\callrerouting\deployqueue()</a>.</li>
                <li>Fixed: wildcard issues in HHVM due to the non-incremental ordering of get_declared_classes().</li>
                <li>No more warnings when Patchwork is not the first imported file. In case of unexpected behavior, use Patchwork\hasMissed($callable) : bool to check if your callable shows up too early to be redefinable.</li>
                <li>Removed the suppress-warnings key from patchwork.json, which is now redundant per previous point.</li>
            </ul>

            <h2 class="minor version">1.4.2</h2>

            <ul class="changes">
                <li>Fixed: <a href="https://github.com/antecedent/issues/37">Error: Please import Patchwork from a point in your code where no user-defined function, class or trait is yet defined (BrainMonkey + PHPUnit).</a></li>
                <li>Fixed: <a href="https://github.com/antecedent/issues/38">Patchwork warning when included in PHPUnit bootstrap</a>.</li>
            </ul>

            <h2 class="minor version">1.4.1</h2>

            <ul class="changes">
                <li>Fixed: Correctly handle class instances.</li>
                <li>Fixed: restoreAll() crashes with wildcards, multiple methods.</li>
                <li>Autoloading is no longer used with Composer.</li>
            </ul>

            <h2 class="major version">1.4.0</h2>

            <ul class="changes">
                <li>Wildcards are now supported, e.g. <kbd>replace('App\*', ...)</kbd>.</li>
                <li>Optional configuration files (<kbd>patchwork.json</kbd>) are now used to blacklist/whitelist files for preprocessing, suppress warnings and specify a cache path.</li>
                <li>The cache used by Patchwork can now be primed by running <kbd>patchwork.phar</kbd> from the command line.</li>
                <li><kbd>redefine</kbd>, <kbd>restore[All]</kbd> and <kbd>relay</kbd> are now the main aliases of <kbd>replace</kbd>, <kbd>undo[All]</kbd> and <kbd>callOriginal</kbd>.</li>
            <li><span class="fixed">Fixed:</span> <a href="https://github.com/antecedent/issues/27">issues with <kbd>flock()</kbd></kbd></a>.</li>
            </ul>

            <h2 class="minor version">1.3.5</h2>

            <ul class="changes">
                <li><span class="fixed">Fixed:</span> faulty HHVM support.</li>
                <li><span class="fixed">Fixed:</span> <a href="https://github.com/antecedent/issues/26">incompatibility with WinCache</a>.</li>
            </ul>

            <h2 class="minor version">1.3.4</h2>

            <ul class="changes">
                <li><span class="fixed">Fixed:</span> <a href="https://github.com/antecedent/pull/21">apply scheduled patches only once</a>.</li>
            </ul>

            <h2 class="minor version">1.3.2</h2>

            <ul class="changes">
                <li><span class="fixed">Fixed:</span> <a href="https://github.com/antecedent/pull/15">Fatal error: Generators cannot return values using "return"</a>.</li>
            </ul>

            <h2 class="minor version">1.3.1</h2>

            <ul class="changes">
                <li><span class="fixed">Fixed:</span> <a href="https://github.com/antecedent/pull/16">Buggy reimplementation of binary search</a>.</li>
            </ul>

            <h2 class="major version">1.3.0</h2>

            <ul class="changes">
                <li>Wrapper-like behavior is now available to redefinitions using <kbd>Patchwork\callOriginal()</kbd>.</li>
                <li>Preprocessor output is now optionally cached.</li>
                <li><kbd>Patchwork\replaceLater</kbd> is now a <kbd>@deprecated</kbd> alias to <kbd>Patchwork\replace</kbd>, which now performs an existence check when a redefinition is being undone, or on shutdown.</li>
                <li>HHVM is now supported.</li>
                <li>No interference with opcode caches was detected.</li>
            </ul>

            <h2 class="minor version">1.2.9</h2>


            <ul class="changes">
                <li><span class="fixed">Fixed:</span> <a href="https://github.com/antecedent/pull/14">Unexpected T_NS_SEPARATOR when using ::class syntax</a>.</li>
            </ul>

            <h2 class="minor version">1.2.8</h2>


            <ul class="changes">
                <li><span class="fixed">Fixed:</span> <a href="https://github.com/antecedent/pull/13">Another standard output leak</a>.</li>
            </ul>

            <h2 class="minor version">1.2.7</h2>


            <ul class="changes">
                <li><a href="https://github.com/antecedent/pull/11">Improved the error message for <kbd>Patchwork\Exceptions\DefinedTooEarly</kbd></a>.</li>
            </ul>

            <h2 class="minor version">1.2.6</h2>


            <ul class="changes">
                <li><a href="https://github.com/antecedent/pull/9">Added a <kbd>composer.json</kbd></a>.</li>
                <li>Moved the PHAR from the main repository.</li>
            </ul>

            <h2 class="minor version">1.2.5</h2>

            <ul class="changes">
                <li><span class="fixed">Fixed:</span> <a href="https://github.com/antecedent/issues/6"><kbd>Patchwork\Preprocessor\Stream::stream_set_option</kbd> was left unimplemented</a>.</li>
            </ul>

            <h2 class="minor version">1.2.4</h2>

            <ul class="changes">
                <li><span class="fixed">Fixed:</span> <a href="https://github.com/antecedent/issues/7"><kbd>Patchwork\Preprocessor\Stream::rmdir</kbd> passes a wrong parameter to <kbd>rmdir</kbd></a>.</li>
                <li>The stream wrapper now has <a href="http://www.php.net/manual/en/streamwrapper.stream-metadata.php"><kbd>stream_metadata</kbd></a> and <a href="http://www.php.net/manual/en/streamwrapper.stream-truncate.php"><kbd>stream_truncate</kbd></a> methods.</li>
            </ul>

            <h2 class="minor version">1.2.3</h2>

            <ul class="changes">
                <li>Method redefinitions that are closures now have <kbd>$this</kbd> bound to the method's object.</li>
            </ul>

            <h2 class="minor version">1.2.2</h2>

            <ul class="changes">
                <li><span class="fixed">Fixed:</span> <a href="https://github.com/antecedent/issues/4#issuecomment-12097422">Preprocessor leaks data to standard output</a>.</li>
            </ul>

            <h2 class="minor version">1.2.1</h2>

            <ul class="changes">
                <li>No errors are thrown anymore if an opcode cache is enabled.</li>
                <li>An error is now thrown when including <kbd>Patchwork.php</kbd> if PHP version is lower than 5.3.0.
            </ul>

            <h2 class="major version">1.2.0</h2>

            <ul class="changes">
                <li><span class="fixed">Fixed:</span> <a href="https://github.com/antecedent/issues/5">Aliased methods imported from a trait misidentify themselves by their original name during call interception</a>.</li>
                <li>Static and instance method redefinitions are now heritable. This means that redefining <kbd>A::foo</kbd> now also redefines <kbd>B::foo</kbd>, if <kbd>B extends A</kbd> and <kbd>foo</kbd> is not overridden in <kbd>B</kbd>.</li>
            </ul>

            <h2 class="minor version">1.1.3</h2>

            <ul class="changes">
                <li><span class="fixed">Fixed:</span> <a href="https://github.com/antecedent/issues/4">Referring to a namespaced function with a leading backslash causes redefinition to silently fail</a>.</li>
            </ul>

            <h2 class="minor version">1.1.2</h2>

            <ul class="changes">
                <li><span class="fixed">Fixed:</span> <a href="https://github.com/antecedent/issues/2">Error: &ldquo;Only variables should be passed by reference&rdquo;</a>.</li>
            </ul>

            <h2 class="minor version">1.1.1</h2>

            <ul class="changes">
                <li><span class="fixed">Fixed:</span> <a href="https://github.com/antecedent/issues/1">Error: &ldquo;Using $this when not in object context in \lib\Preprocessor.php(40) : eval()'d code on line 1&rdquo;</a>.</li>
            </ul>

            <h2 class="major version">1.1.0</h2>

            <ul class="changes">
                <li><span class="fixed">Fixed:</span> Error thrown from call interception code in namespaced anonymous functions.</li>
                <li>Renamed public API functions: <kbd>patch</kbd> &rarr; <kbd>replace</kbd>, <kbd>unpatch</kbd> &rarr; <kbd>undo</kbd>, <kbd>escape</kbd> &rarr; <kbd>pass</kbd>.</li>
                <li>Removed a specialized PHPUnit test case class.</li>
                <li>Added <kbd>Patchwork\undoAll</kbd>.</li>
                <li>Added <kbd>Patchwork\replaceLater</kbd>.</li>
            </ul>

            <h2 class="major version">1.0.0</h2>

            <ul class="changes">
                <li>Initial public release.</li>
            </ul>


        </div>
    </main>

        <script   src="https://code.jquery.com/jquery-3.1.0.min.js"   integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="   crossorigin="anonymous"></script>

        <!-- Latest compiled and minified JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

</body>

</html>
